<!doctype html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>観光周遊スケジュール自動生成</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
     integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
     crossorigin=""/>
    <style>
      /* 初期ローディング画面のスタイル */
      #initial-loader {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        z-index: 9999;
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
      }

      #initial-loader.hidden {
        opacity: 0;
        transition: opacity 0.5s ease-out;
        pointer-events: none;
      }

      .loader-content {
        text-align: center;
        color: white;
      }

      .loader-icon {
        width: 80px;
        height: 80px;
        margin: 0 auto 30px;
        position: relative;
      }

      /* バスアイコンのアニメーション */
      .bus-icon {
        animation: busMove 2s ease-in-out infinite;
      }

      @keyframes busMove {
        0%, 100% { transform: translateX(-10px); }
        50% { transform: translateX(10px); }
      }

      /* 波のアニメーション */
      .wave {
        position: absolute;
        bottom: 0;
        left: 0;
        width: 100%;
        height: 100px;
        opacity: 0.3;
      }

      .wave-path {
        animation: waveMove 3s ease-in-out infinite;
      }

      @keyframes waveMove {
        0%, 100% { transform: translateX(0); }
        50% { transform: translateX(-20px); }
      }

      /* スピナー */
      .spinner {
        width: 50px;
        height: 50px;
        margin: 20px auto;
        border: 4px solid rgba(255, 255, 255, 0.3);
        border-top: 4px solid white;
        border-radius: 50%;
        animation: spin 1s linear infinite;
      }

      @keyframes spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
      }

      .loader-text {
        font-size: 24px;
        font-weight: bold;
        margin-bottom: 10px;
        text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
      }

      .loader-subtext {
        font-size: 16px;
        opacity: 0.9;
        margin-top: 10px;
      }

      .loader-dots {
        display: inline-block;
        animation: dots 1.5s steps(4, end) infinite;
      }

      @keyframes dots {
        0%, 20% { content: '.'; }
        40% { content: '..'; }
        60%, 100% { content: '...'; }
      }
    </style>
  </head>
  <body>
    <!-- 初期ローディング画面 -->
    <div id="initial-loader">
      <div class="loader-content">
        <div class="loader-icon">
          <!-- バスアイコン（SVG） -->
          <svg class="bus-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M4 16C4 16.5304 4.21071 17.0391 4.58579 17.4142C4.96086 17.7893 5.46957 18 6 18H7C7 18.7956 7.31607 19.5587 7.87868 20.1213C8.44129 20.6839 9.20435 21 10 21C10.7956 21 11.5587 20.6839 12.1213 20.1213C12.6839 19.5587 13 18.7956 13 18H17C17 18.7956 17.3161 19.5587 17.8787 20.1213C18.4413 20.6839 19.2044 21 20 21C20.7956 21 21.5587 20.6839 22.1213 20.1213C22.6839 19.5587 23 18.7956 23 18H24C24.5304 18 25.0391 17.7893 25.4142 17.4142C25.7893 17.0391 26 16.5304 26 16V6C26 5.46957 25.7893 4.96086 25.4142 4.58579C25.0391 4.21071 24.5304 4 24 4H6C5.46957 4 4.96086 4.21071 4.58579 4.58579C4.21071 4.96086 4 5.46957 4 6V16Z" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" fill="white" opacity="0.9"/>
            <circle cx="10" cy="18" r="1.5" fill="#667eea"/>
            <circle cx="20" cy="18" r="1.5" fill="#667eea"/>
            <rect x="7" y="7" width="16" height="6" rx="1" fill="#667eea"/>
          </svg>
        </div>

        <div class="loader-text">七ヶ浜 観光スケジューラー</div>

        <div class="spinner"></div>

        <div class="loader-subtext">
          読み込み中<span class="loader-dots">...</span>
        </div>
        <div class="loader-subtext" style="font-size: 14px; margin-top: 20px; opacity: 0.8;">
          初回アクセス時はサーバーの起動に少し時間がかかります
        </div>
      </div>

      <!-- 波のアニメーション -->
      <svg class="wave" viewBox="0 0 1200 100" preserveAspectRatio="none">
        <path class="wave-path" d="M0,50 C300,80 500,20 800,50 C1000,70 1100,40 1200,50 L1200,100 L0,100 Z" fill="white" opacity="0.3"/>
      </svg>
    </div>

    <div id="root"></div>
    <script type="module" src="/src/main.jsx"></script>
  </body>
</html>
